<div class="sidebar" [class.expanded]="isExpanded" [class.minimized]="!isExpanded">

    <!-- Header con perfil -->
    <div class="user-profile">
        <img [src]="userData.avatar" alt="Usuario" class="avatar" />
        @if (isExpanded) {
        <div class="user-info">
            <span class="user-greeting">{{ userData.greeting }}</span>
            <span class="user-name">{{ userData.userName }}</span>
            <span class="user-email">{{ userData.email }}</span>
        </div>
        }
    </div>

    <!-- Menú principal -->
    <nav class="menu-container">
        <ul class="menu">
            @if (isExpanded) { <div class="group-title">Clientes y Reservaciones</div> }
            <div class="menu-separator"></div>

            <li (click)="navigateTo('/home')" [class.active]="isActive('/home')" class="menu-item">
                <img src="icons/home.png" alt="Dashboard" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">DASHBOARD</span> }
            </li>

            <li (click)="navigateTo('/client')" [class.active]="isActive('/client')" class="menu-item">
                <img src="icons/client-2.png" alt="Clientes" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">CLIENTES</span> }
            </li>

            <li (click)="navigateTo('/reservations')" [class.active]="isActive('/reservations')" class="menu-item">
                <img src="icons/reservation-2.png" alt="Reservas" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">RESERVAS</span> }
            </li>

            @if (isExpanded) { <div class="group-title">Servicios y Productos</div> }
            <div class="menu-separator"></div>

            <li (click)="navigateTo('/services')" [class.active]="isActive('/services')" class="menu-item">
                <img src="icons/service-2.png" alt="Servicios" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">SERVICIOS</span> }
            </li>

            <li (click)="navigateTo('/product')" [class.active]="isActive('/product')" class="menu-item">
                <img src="icons/product-2.png" alt="Productos" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">PRODUCTOS</span> }
            </li>

            @if (isExpanded) { <div class="group-title">Usuarios y Proveedores</div> }
            <div class="menu-separator"></div>

            <li (click)="navigateTo('/users')" [class.active]="isActive('/users')" class="menu-item">
                <img src="icons/user-2.png" alt="Gestión de Usuarios" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">GESTIÓN DE USUARIOS</span> }
            </li>

            <li (click)="navigateTo('/suppliers')" [class.active]="isActive('/suppliers')" class="menu-item">
                <img src="icons/supplier-2.png" alt="Gestión de Proveedores" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">PROVEEDORES</span> }
            </li>

            @if (isExpanded) { <div class="group-title">Reportes y Datos</div> }
            <div class="menu-separator"></div>

            <!-- Reportes -->
            <li (click)="navigateTo('/report')" [class.active]="isActive('/report')" class="menu-item reports">
                <img src="icons/report-2.png" alt="Reportes" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">REPORTES</span> }
            </li>

            <!-- Datos -->
            <li (click)="navigateTo('/data')" [class.active]="isActive('/data')" class="menu-item data">
                <img src="icons/data-2.png" alt="Datos" class="menu-icon" />
                @if (isExpanded) { <span class="menu-text">DATOS</span> }
            </li>
        </ul>
    </nav>

    <!-- Footer -->
    <div class="sidebar-footer">
        <button class="logout-btn" (click)="logout()">
            <img src="icons/exit.png" alt="Cerrar Sesión" class="logout-icon" />
            @if (isExpanded) { <span>CERRAR SESIÓN</span> }
        </button>
    </div>

    <!-- Toggle button -->
    @if (!isExpanded) {
    <button class="toggle-btn" (click)="toggleSidebar()">
        <img src="/flecha.png" alt="Expandir" class="toggle-icon" />
    </button>
    }
</div>

@if (isExpanded && isMobile) {
<div class="sidebar-overlay" (click)="closeSidebar()"></div>
}
